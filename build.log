#1 [internal] load local bake definitions
#1 reading from stdin 1.73kB done
#1 DONE 0.0s

#2 [producer1 internal] load build definition from Dockerfile
#2 transferring dockerfile: 202B done
#2 DONE 0.1s

#3 [broker1 internal] load build definition from Dockerfile
#3 transferring dockerfile: 147B done
#3 DONE 0.0s

#4 [consumer1 internal] load build definition from Dockerfile
#4 transferring dockerfile: 1.19kB done
#4 DONE 0.1s

#5 [consumer1 internal] load metadata for docker.io/library/gcc:latest
#5 DONE 0.5s

#6 [consumer1 internal] load .dockerignore
#6 transferring context: 2B done
#6 DONE 0.1s

#7 [broker1 internal] load .dockerignore
#7 transferring context: 2B done
#7 DONE 0.1s

#8 [producer1 internal] load .dockerignore
#8 transferring context: 2B done
#8 DONE 0.1s

#9 [producer1 1/5] FROM docker.io/library/gcc:latest@sha256:1c68ef4ba3730c7e70c343212cd322af0e806e7e8c5c713facf4d5f719e155a3
#9 resolve docker.io/library/gcc:latest@sha256:1c68ef4ba3730c7e70c343212cd322af0e806e7e8c5c713facf4d5f719e155a3 0.0s done
#9 DONE 0.0s

#10 [consumer1 2/5] WORKDIR /app
#10 CACHED

#11 [consumer1 internal] load build context
#11 transferring context: 1.19kB done
#11 DONE 0.1s

#12 [broker1 internal] load build context
#12 transferring context: 8.31kB done
#12 DONE 0.1s

#13 [producer1 internal] load build context
#13 transferring context: 5.55kB done
#13 DONE 0.1s

#14 [consumer1 3/5] COPY consumer.c .
#14 DONE 0.0s

#15 [broker1 3/4] COPY broker.c .
#15 DONE 0.1s

#16 [producer1 3/4] COPY producer.c .
#16 DONE 0.1s

#17 [producer1 4/4] RUN gcc -o producer producer.c -pthread -O2
#17 ...

#18 [consumer1 4/5] RUN echo "=== COMPILING CONSUMER ===" &&     gcc -o consumer consumer.c -pthread -O2 -Wall 2>&1 &&     echo "=== COMPILATION SUCCESS ===" &&     ls -lh consumer &&     echo "=== FILE INFO ===" &&     file consumer
#18 0.235 === COMPILING CONSUMER ===
#18 0.242 consumer.c:1:1: error: unknown type name 'FROM'
#18 0.242     1 | FROM gcc:latest
#18 0.242       | ^~~~
#18 0.242 consumer.c:1:9: error: expected '=', ',', ';', 'asm' or '__attribute__' before ':' token
#18 0.242     1 | FROM gcc:latest
#18 0.242       |         ^
#18 0.242 consumer.c:7:3: error: invalid preprocessing directive #Compilar
#18 0.242     7 | # Compilar con output verbose
#18 0.242       |   ^~~~~~~~
#18 0.242 consumer.c:15:3: error: invalid preprocessing directive #Script
#18 0.242    15 | # Script de inicio con debug
#18 0.242       |   ^~~~~~
#18 0.242 consumer.c:16:10: warning: multi-character literal with 11 characters exceeds 'int' size of 4 bytes
#18 0.242    16 | RUN echo '#!/bin/bash' > start.sh && \
#18 0.242       |          ^~~~~~~~~~~~~
#18 0.242 consumer.c:17:10: warning: multi-character literal with 49 characters exceeds 'int' size of 4 bytes
#18 0.242    17 |     echo 'echo "=========================================="' >> start.sh && \
#18 0.242       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#18 0.242 consumer.c:18:10: warning: multi-character literal with 34 characters exceeds 'int' size of 4 bytes
#18 0.242    18 |     echo 'echo "CONSUMER CONTAINER STARTING"' >> start.sh && \
#18 0.242       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#18 0.242 consumer.c:19:10: warning: multi-character literal with 49 characters exceeds 'int' size of 4 bytes
#18 0.242    19 |     echo 'echo "=========================================="' >> start.sh && \
#18 0.242       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#18 0.242 consumer.c:20:10: warning: multi-character literal with 20 characters exceeds 'int' size of 4 bytes
#18 0.242    20 |     echo 'echo "Arguments: $@"' >> start.sh && \
#18 0.242       |          ^~~~~~~~~~~~~~~~~~~~~~
#18 0.242 consumer.c:21:10: warning: multi-character literal with 32 characters exceeds 'int' size of 4 bytes
#18 0.242    21 |     echo 'echo "Current directory: $(pwd)"' >> start.sh && \
#18 0.242       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#18 0.242 consumer.c:22:10: warning: multi-character literal with 26 characters exceeds 'int' size of 4 bytes
#18 0.242    22 |     echo 'echo "Files in directory:"' >> start.sh && \
#18 0.242       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
#18 0.242 consumer.c:23:10: warning: multi-character literal with 6 characters exceeds 'int' size of 4 bytes
#18 0.242    23 |     echo 'ls -la' >> start.sh && \
#18 0.242       |          ^~~~~~~~
#18 0.242 consumer.c:24:10: warning: multi-character literal with 37 characters exceeds 'int' size of 4 bytes
#18 0.242    24 |     echo 'echo "Testing broker connectivity..."' >> start.sh && \
#18 0.242       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#18 0.242 consumer.c:25:10: warning: multi-character literal with 43 characters exceeds 'int' size of 4 bytes
#18 0.242    25 |     echo 'ping -c 2 "$3" || echo "Cannot ping broker"' >> start.sh && \
#18 0.242       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#18 0.242 consumer.c:26:10: warning: multi-character literal with 49 characters exceeds 'int' size of 4 bytes
#18 0.242    26 |     echo 'echo "=========================================="' >> start.sh && \
#18 0.242       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
#18 0.242 consumer.c:27:10: warning: multi-character literal with 20 characters exceeds 'int' size of 4 bytes
#18 0.242    27 |     echo './consumer "$@" 2>&1' >> start.sh && \
#18 0.242       |          ^~~~~~~~~~~~~~~~~~~~~~
#18 ERROR: process "/bin/sh -c echo \"=== COMPILING CONSUMER ===\" &&     gcc -o consumer consumer.c -pthread -O2 -Wall 2>&1 &&     echo \"=== COMPILATION SUCCESS ===\" &&     ls -lh consumer &&     echo \"=== FILE INFO ===\" &&     file consumer" did not complete successfully: exit code: 1

#19 [broker1 4/4] RUN gcc -o broker broker.c -pthread -O2
#19 CANCELED

#17 [producer1 4/4] RUN gcc -o producer producer.c -pthread -O2
#17 CANCELED
------
 > [consumer1 4/5] RUN echo "=== COMPILING CONSUMER ===" &&     gcc -o consumer consumer.c -pthread -O2 -Wall 2>&1 &&     echo "=== COMPILATION SUCCESS ===" &&     ls -lh consumer &&     echo "=== FILE INFO ===" &&     file consumer:
0.242       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0.242 consumer.c:25:10: warning: multi-character literal with 43 characters exceeds 'int' size of 4 bytes
0.242    25 |     echo 'ping -c 2 "$3" || echo "Cannot ping broker"' >> start.sh && \
0.242       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0.242 consumer.c:26:10: warning: multi-character literal with 49 characters exceeds 'int' size of 4 bytes
0.242    26 |     echo 'echo "=========================================="' >> start.sh && \
0.242       |          ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
0.242 consumer.c:27:10: warning: multi-character literal with 20 characters exceeds 'int' size of 4 bytes
0.242    27 |     echo './consumer "$@" 2>&1' >> start.sh && \
0.242       |          ^~~~~~~~~~~~~~~~~~~~~~
------
Dockerfile:8

--------------------

   7 |     # Compilar con output verbose

   8 | >>> RUN echo "=== COMPILING CONSUMER ===" && \

   9 | >>>     gcc -o consumer consumer.c -pthread -O2 -Wall 2>&1 && \

  10 | >>>     echo "=== COMPILATION SUCCESS ===" && \

  11 | >>>     ls -lh consumer && \

  12 | >>>     echo "=== FILE INFO ===" && \

  13 | >>>     file consumer

  14 |     

--------------------

target consumer1: failed to solve: process "/bin/sh -c echo \"=== COMPILING CONSUMER ===\" &&     gcc -o consumer consumer.c -pthread -O2 -Wall 2>&1 &&     echo \"=== COMPILATION SUCCESS ===\" &&     ls -lh consumer &&     echo \"=== FILE INFO ===\" &&     file consumer" did not complete successfully: exit code: 1

